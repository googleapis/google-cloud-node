{"id":"compute/rule","type":"class","name":"Rule","overview":"<p>\n  This class allows you interact with Compute Engine.\n</p>\n\n<p>\n  First, install <code>google-cloud</code> with npm:\n</p>\n\n<div hljs language=\"bash\">$ npm install --save google-cloud</div>\n\n<p>\n  If you are running your app on Google Compute Engine, you won't need to worry about supplying connection configuration options to <code>google-cloud</code>â€” we figure that out for you.\n</p>\n\n<p>\n  However, if you're running your app elsewhere, you will need to provide project details to authenticate API requests.\n</p>\n\n<h4>Compute Engine</h4>\n<div hljs language=\"javascript\">\nvar gcloud = require('google-cloud');\nvar gce = gcloud.compute();\n</div>\n\n<h4>Elsewhere</h4>\n<div hljs language=\"javascript\">\nvar gcloud = require('google-cloud');\nvar gce = gcloud.compute({\n  projectId: 'grape-spaceship-123',\n  keyFilename: '/path/to/keyfile.json'\n});\n</div>\n\n<p>\n  The full set of options which can be passed to <code>google-cloud</code> are outlined in our <a href=\"#/docs/google-cloud/0.47.0/guides/authentication\">Authentication guide</a>.\n</p>\n\n","description":"","source":"packages/compute/src/rule.js","parent":"compute","children":[],"methods":[{"id":"Rule","name":"Rule","type":"constructor","description":"<p>Forwarding rules work in conjunction with target pools and target instances to support load balancing and protocol forwarding features. To use load balancing and protocol forwarding, you must create a forwarding rule that directs traffic to specific target pools (for load balancing) or target instances (for protocol forwarding).</p>","source":"packages/compute/src/rule.js#L56","resources":[{"title":"Forwarding rules","link":"https://cloud.google.com/compute/docs/load-balancing/network/forwarding-rules"}],"examples":[{"caption":"<p>Reference a global rule.</p>","code":"var rule = gce.rule('rule-name');"},{"caption":"<p>Reference a region rule.</p>","code":"var region = gce.region('us-central1');\nvar rule = region.rule('rule-name');"}],"params":[],"exceptions":[],"returns":[]},{"id":"create","name":"create","type":"instance","description":"<p>Create a forwarding rule.</p>","source":"packages/compute/src/rule.js#L91","resources":[],"examples":[{"code":"var config = {\n  // `target` will be different depending of this is a Regional or Global\n  // forwarding rule\n  target: 'global/targetHttpProxies/my-proxy',\n  portRange: '8080-8089'\n};\n\nrule.create(config, function(err, rule, operation, apiResponse) {\n  // `rule` is a Rule object.\n\n  // `operation` is an Operation object that can be used to check the\n  // of the request.\n});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"rule.create(config).then(function(data) {\n  var rule = data[0];\n  var operation = data[1];\n  var apiResponse = data[2];\n});"}],"params":[{"name":"config","description":"<ul> <li>See <a data-custom-type=\"compute\" data-method=\"createRule\">compute#createRule</a> or <a data-custom-type=\"compute/region\" data-method=\"createRule\">compute/region#createRule</a> if accessing this object through  a Region.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"exists","name":"exists","type":"instance","description":"<p>Check if the forwarding rule exists.</p>","source":"packages/compute/src/rule.js#L111","resources":[],"examples":[{"code":"rule.exists(function(err, exists) {});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"rule.exists().then(function(data) {\n  var exists = data[0];\n});"}],"params":[{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.exists","description":"<ul> <li>Whether the rule exists or not.</li> </ul> ","types":["boolean"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"get","name":"get","type":"instance","description":"<p>Get a forwarding rule if it exists.</p><p>You may optionally use this to &quot;get or create&quot; an object by providing an object with <code>autoCreate</code> set to <code>true</code>. Any extra configuration that is normally required for the <code>create</code> method must be contained within this object as well.</p>","source":"packages/compute/src/rule.js#L138","resources":[],"examples":[{"code":"rule.get(function(err, rule, apiResponse) {\n  // `rule` is a Rule object.\n});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"rule.get().then(function(data) {\n  var rule = data[0];\n  var apiResponse = data[1];\n});"}],"params":[{"name":"options","description":"<ul> <li>Configuration object.</li> </ul> ","types":["options"],"optional":true,"nullable":false},{"name":"options.autoCreate","description":"<ul> <li>Automatically create the object if it does not exist. Default: <code>false</code></li> </ul> ","types":["boolean"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"getMetadata","name":"getMetadata","type":"instance","description":"<p>Get the metadata of this rule.</p>","source":"packages/compute/src/rule.js#L165","resources":[{"title":"GlobalForwardingRule Resource","link":"https://cloud.google.com/compute/docs/reference/v1/globalForwardingRules#resource"},{"title":"ForwardingRule Resource","link":"https://cloud.google.com/compute/docs/reference/v1/globalForwardingRules#resource"},{"title":"GlobalForwardingRules: get API Documentation","link":"https://cloud.google.com/compute/docs/reference/v1/globalForwardingRules/get"},{"title":"ForwardingRules: get API Documentation","link":"https://cloud.google.com/compute/docs/reference/v1/forwardingRules/get"}],"examples":[{"code":"rule.getMetadata(function(err, metadata, apiResponse) {});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"rule.getMetadata().then(function(data) {\n  var metadata = data[0];\n  var apiResponse = data[1];\n});"}],"params":[{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":true,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.metadata","description":"<ul> <li>The rule&#39;s metadata.</li> </ul> ","types":["object"],"optional":false,"nullable":false},{"name":"callback.apiResponse","description":"<ul> <li>The full API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"delete","name":"delete","type":"instance","description":"<p>Delete the rule.</p>","source":"packages/compute/src/rule.js#L207","resources":[{"title":"GlobalForwardingRules: delete API Documentation","link":"https://cloud.google.com/compute/docs/reference/v1/globalForwardingRules/delete"},{"title":"ForwardingRules: delete API Documentation","link":"https://cloud.google.com/compute/docs/reference/v1/forwardingRules/delete"}],"examples":[{"code":"rule.delete(function(err, operation, apiResponse) {\n  // `operation` is an Operation object that can be used to check the status\n  // of the request.\n});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"rule.delete().then(function(data) {\n  var operation = data[0];\n  var apiResponse = data[1];\n});"}],"params":[{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":true,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.operation","description":"<ul> <li>An operation object that can be used to check the status of the request.</li> </ul> ","types":["<a data-custom-type=\"compute/operation\" data-method=\"\">compute/operation</a>"],"optional":false,"nullable":false},{"name":"callback.apiResponse","description":"<ul> <li>The full API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"setTarget","name":"setTarget","type":"instance","description":"<p>Set the target for this forwarding rule.</p>","source":"packages/compute/src/rule.js#L254","resources":[{"title":"GlobalForwardingRules: setTarget API Documentation","link":"https://cloud.google.com/compute/docs/reference/v1/globalForwardingRules/setTarget"},{"title":"ForwardingRules: setTarget API Documentation","link":"https://cloud.google.com/compute/docs/reference/v1/forwardingRules/setTarget"}],"examples":[{"code":"rule.setTarget('new-target', function(err, operation, apiResponse) {\n  // `operation` is an Operation object that can be used to check the status\n  // of the request.\n});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"rule.setTarget('new-target').then(function(data) {\n  var operation = data[0];\n  var apiResponse = data[1];\n});"}],"params":[{"name":"target","description":"<ul> <li>The full or valid partial URL of the target resource to receive the matched traffic. For regional forwarding rules, this  target must live in the same region as the forwarding rule. For global  forwarding rules, this target must be a global <code>TargetHttpProxy</code>  resource.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>The full API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]}],"path":"rule.json"}