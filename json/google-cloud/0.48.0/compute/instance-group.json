{"id":"compute/instance-group","type":"class","name":"InstanceGroup","overview":"<p>\n  This class allows you interact with Compute Engine.\n</p>\n\n<p>\n  First, install <code>google-cloud</code> with npm:\n</p>\n\n<div hljs language=\"bash\">$ npm install --save google-cloud</div>\n\n<p>\n  If you are running your app on Google Compute Engine, you won't need to worry about supplying connection configuration options to <code>google-cloud</code>— we figure that out for you.\n</p>\n\n<p>\n  However, if you're running your app elsewhere, you will need to provide project details to authenticate API requests.\n</p>\n\n<h4>Compute Engine</h4>\n<div hljs language=\"javascript\">\nvar gcloud = require('google-cloud');\nvar gce = gcloud.compute();\n</div>\n\n<h4>Elsewhere</h4>\n<div hljs language=\"javascript\">\nvar gcloud = require('google-cloud');\nvar gce = gcloud.compute({\n  projectId: 'grape-spaceship-123',\n  keyFilename: '/path/to/keyfile.json'\n});\n</div>\n\n<p>\n  The full set of options which can be passed to <code>google-cloud</code> are outlined in our <a href=\"#/docs/google-cloud/0.48.0/guides/authentication\">Authentication guide</a>.\n</p>\n\n","description":"","source":"packages/compute/src/instance-group.js","parent":"compute","children":[],"methods":[{"id":"InstanceGroup","name":"InstanceGroup","type":"constructor","description":"<p>You can create and manage groups of virtual machine instances so that you don&#39;t have to individually control each instance in your project.</p>","source":"packages/compute/src/instance-group.js#L50","resources":[{"title":"Creating Groups of Instances","link":"https://cloud.google.com/compute/docs/instance-groups"},{"title":"Unmanaged Instance Groups","link":"https://cloud.google.com/compute/docs/instance-groups/unmanaged-groups"}],"examples":[{"code":"var zone = gce.zone('us-central1-a');\n\nvar instanceGroup = zone.instanceGroup('web-servers');"}],"params":[],"exceptions":[],"returns":[]},{"id":"create","name":"create","type":"instance","description":"<p>Create an instance group.</p>","source":"packages/compute/src/instance-group.js#L76","resources":[],"examples":[{"code":"function onCreated(err, instanceGroup, operation, apiResponse) {\n  // `instanceGroup` is an InstanceGroup object.\n\n  // `operation` is an Operation object that can be used to check the\n  // status of the request.\n}\n\ninstanceGroup.create(onCreated);"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"instanceGroup.create().then(function(data) {\n  var instanceGroup = data[0];\n  var operation = data[1];\n  var apiResponse = data[2];\n});"}],"params":[{"name":"options","description":"<ul> <li>See <a data-custom-type=\"zone\" data-method=\"createInstanceGroup\">zone#createInstanceGroup</a>.</li> </ul> ","types":["object"],"optional":true,"nullable":false}],"exceptions":[],"returns":[]},{"id":"exists","name":"exists","type":"instance","description":"<p>Check if the instance group exists.</p>","source":"packages/compute/src/instance-group.js#L97","resources":[],"examples":[{"code":"instanceGroup.exists(function(err, exists) {});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"instanceGroup.exists().then(function(data) {\n  var exists = data[0];\n});"}],"params":[{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.exists","description":"<ul> <li>Whether the instance group exists or not.</li> </ul> ","types":["boolean"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"get","name":"get","type":"instance","description":"<p>Get an instance group if it exists.</p><p>You may optionally use this to &quot;get or create&quot; an object by providing an object with <code>autoCreate</code> set to <code>true</code>. Any extra configuration that is normally required for the <code>create</code> method must be contained within this object as well.</p>","source":"packages/compute/src/instance-group.js#L124","resources":[],"examples":[{"code":"instanceGroup.get(function(err, instanceGroup, apiResponse) {\n  // `instanceGroup` is an InstanceGroup object.\n});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"instanceGroup.get().then(function(data) {\n  var instanceGroup = data[0];\n  var apiResponse = data[1];\n});"}],"params":[{"name":"options","description":"<ul> <li>Configuration object.</li> </ul> ","types":["options"],"optional":true,"nullable":false},{"name":"options.autoCreate","description":"<ul> <li>Automatically create the object if it does not exist. Default: <code>false</code></li> </ul> ","types":["boolean"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"getMetadata","name":"getMetadata","type":"instance","description":"<p>Get the instance group&#39;s metadata.</p>","source":"packages/compute/src/instance-group.js#L149","resources":[{"title":"InstanceGroups: get API Documentation","link":"https://cloud.google.com/compute/docs/reference/v1/instanceGroups/get"},{"title":"InstanceGroups Resource","link":"https://cloud.google.com/compute/docs/reference/v1/instanceGroups"}],"examples":[{"code":"instanceGroup.getMetadata(function(err, metadata, apiResponse) {});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"instanceGroup.getMetadata().then(function(data) {\n  var metadata = data[0];\n  var apiResponse = data[1];\n});"}],"params":[{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":true,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.metadata","description":"<ul> <li>The instance group&#39;s metadata.</li> </ul> ","types":["object"],"optional":false,"nullable":false},{"name":"callback.apiResponse","description":"<ul> <li>The full API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"add","name":"add","type":"instance","description":"<p>Add one or more VMs to this instance group.</p>","source":"packages/compute/src/instance-group.js#L216","resources":[{"title":"InstanceGroups: addInstances API Documentation","link":"https://cloud.google.com/compute/docs/reference/v1/instanceGroups/addInstances"}],"examples":[{"code":"var vms = [\n  gce.zone('us-central1-a').vm('http-server'),\n  gce.zone('us-central1-a').vm('https-server')\n];\n\ninstanceGroup.add(vms, function(err, operation, apiResponse) {\n  // `operation` is an Operation object that can be used to check the status\n  // of the request.\n});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"instanceGroup.add(vms).then(function(data) {\n  var operation = data[0];\n  var apiResponse = data[1];\n});"}],"params":[{"name":"vms","description":"<ul> <li>VM instances to add to this instance group.</li> </ul> ","types":["<a data-custom-type=\"compute/vm\" data-method=\"\">compute/vm</a>","<a data-custom-type=\"compute/vm[]\" data-method=\"\">compute/vm[]</a>"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.operation","description":"<ul> <li>An operation object that can be used to check the status of the request.</li> </ul> ","types":["<a data-custom-type=\"compute/operation\" data-method=\"\">compute/operation</a>"],"optional":false,"nullable":false},{"name":"callback.apiResponse","description":"<ul> <li>The full API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"delete","name":"delete","type":"instance","description":"<p>Delete the instance group.</p>","source":"packages/compute/src/instance-group.js#L267","resources":[{"title":"InstanceGroups: delete API Documentation","link":"https://cloud.google.com/compute/docs/reference/v1/instanceGroups/delete"}],"examples":[{"code":"instanceGroup.delete(function(err, operation, apiResponse) {\n  // `operation` is an Operation object that can be used to check the status\n  // of the request.\n});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"instanceGroup.delete().then(function(data) {\n  var operation = data[0];\n  var apiResponse = data[1];\n});"}],"params":[{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":true,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.operation","description":"<ul> <li>An operation object that can be used to check the status of the request.</li> </ul> ","types":["<a data-custom-type=\"compute/operation\" data-method=\"\">compute/operation</a>"],"optional":false,"nullable":false},{"name":"callback.apiResponse","description":"<ul> <li>The full API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"getVMs","name":"getVMs","type":"instance","description":"<p>Get a list of VM instances in this instance group.</p>","source":"packages/compute/src/instance-group.js#L338","resources":[{"title":"InstaceGroups: listInstances API Documentation","link":"https://cloud.google.com/compute/docs/reference/v1/instanceGroups/listInstances"}],"examples":[{"code":"instanceGroup.getVMs(function(err, vms) {\n  // `vms` is an array of `VM` objects.\n});"},{"caption":"<p>To control how many API requests are made and page through the results \nmanually, set <code>autoPaginate</code> to <code>false</code>.</p>","code":"function callback(err, vms, nextQuery, apiResponse) {\n  if (nextQuery) {\n    // More results exist.\n    instanceGroup.getVMs(nextQuery, callback);\n  }\n}\n\ninstanceGroup.getVMs({\n  autoPaginate: false\n}, callback);"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"instanceGroup.getVMs().then(function(data) {\n  var vms = data[0];\n});"}],"params":[{"name":"options","description":"<ul> <li>Instance search options.</li> </ul> ","types":["object"],"optional":true,"nullable":false},{"name":"options.autoPaginate","description":"<ul> <li>Have pagination handled automatically. Default: true.</li> </ul> ","types":["boolean"],"optional":false,"nullable":false},{"name":"options.filter","description":"<ul> <li>Search filter in the format of <code>{name} {comparison} {filterString}</code>.<ul> <li><strong><code>name</code></strong>: the name of the field to compare</li> <li><strong><code>comparison</code></strong>: the comparison operator, <code>eq</code> (equal) or <code>ne</code> (not equal)</li> <li><strong><code>filterString</code></strong>: the string to filter to. For string fields, this can be a regular expression.</li> </ul> </li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"options.maxApiCalls","description":"<ul> <li>Maximum number of API calls to make.</li> </ul> ","types":["number"],"optional":false,"nullable":false},{"name":"options.maxResults","description":"<ul> <li>Maximum number of VMs to return.</li> </ul> ","types":["number"],"optional":false,"nullable":false},{"name":"options.pageToken","description":"<ul> <li>A previously-returned page token representing part of the larger set of results to view.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"options.running","description":"<ul> <li>Only return instances which are running.</li> </ul> ","types":["boolean"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.vms","description":"<ul> <li>VM objects from this isntance group.</li> </ul> ","types":["<a data-custom-type=\"compute/vm[]\" data-method=\"\">compute/vm[]</a>"],"optional":false,"nullable":false},{"name":"callback.apiResponse","description":"<ul> <li>The full API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"getVMsStream","name":"getVMsStream","type":"instance","description":"<p>Get a list of <a data-custom-type=\"compute/vm\" data-method=\"\">compute/vm</a> instances in this instance group as a readable object stream.</p>","source":"packages/compute/src/instance-group.js#L412","resources":[],"examples":[{"code":"instanceGroup.getVMsStream()\n  .on('error', console.error)\n  .on('data', function(vm) {\n    // `vm` is a `VM` object.\n  })\n  .on('end', function() {\n    // All instances retrieved.\n  });"},{"caption":"<p>If you anticipate many results, you can end a stream early to prevent \nunnecessary processing and API requests.</p>","code":"instanceGroup.getVMsStream()\n  .on('data', function(vm) {\n    this.end();\n  });"}],"params":[{"name":"options","description":"<ul> <li>Configuration object. See <a data-custom-type=\"compute/instanceGroup\" data-method=\"getVMs\">compute/instanceGroup#getVMs</a> for a complete list of options.</li> </ul> ","types":["object"],"optional":true,"nullable":false}],"exceptions":[],"returns":[{"types":["stream"],"description":""}]},{"id":"remove","name":"remove","type":"instance","description":"<p>Remove one or more VMs from this instance group.</p>","source":"packages/compute/src/instance-group.js#L446","resources":[{"title":"InstanceGroups: removeInstances API Documentation","link":"https://cloud.google.com/compute/docs/reference/v1/instanceGroups/removeInstances"}],"examples":[{"code":"var vms = [\n  gce.zone('us-central1-a').vm('http-server'),\n  gce.zone('us-central1-a').vm('https-server')\n];\n\ninstanceGroup.remove(vms, function(err, operation, apiResponse) {\n  // `operation` is an Operation object that can be used to check the status\n  // of the request.\n});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"instanceGroup.remove(vms).then(function(data) {\n  var operation = data[0];\n  var apiResponse = data[1];\n});"}],"params":[{"name":"vms","description":"<ul> <li>VM instances to remove from this instance group.</li> </ul> ","types":["<a data-custom-type=\"compute/vm\" data-method=\"\">compute/vm</a>","<a data-custom-type=\"compute/vm[]\" data-method=\"\">compute/vm[]</a>"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.operation","description":"<ul> <li>An operation object that can be used to check the status of the request.</li> </ul> ","types":["<a data-custom-type=\"compute/operation\" data-method=\"\">compute/operation</a>"],"optional":false,"nullable":false},{"name":"callback.apiResponse","description":"<ul> <li>The full API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"setPorts","name":"setPorts","type":"instance","description":"<p>Set the named ports for this instance group.</p>","source":"packages/compute/src/instance-group.js#L504","resources":[{"title":"InstanceGroups: setNamedPorts API Documentation","link":"https://cloud.google.com/compute/docs/reference/v1/instanceGroups/setNamedPorts"}],"examples":[{"code":"var ports = {\n  http: 80,\n  https: 443\n};\n\ninstanceGroup.setPorts(ports, function(err, operation, apiResponse) {\n  // `operation` is an Operation object that can be used to check the status\n  // of the request.\n});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"instanceGroup.setPorts(ports).then(function(data) {\n  var operation = data[0];\n  var apiResponse = data[1];\n});"}],"params":[{"name":"ports","description":"<ul> <li>A map of names to ports. The key should be the name, and the value the port number.</li> </ul> ","types":["object"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":true,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.operation","description":"<ul> <li>An operation object that can be used to check the status of the request.</li> </ul> ","types":["<a data-custom-type=\"compute/operation\" data-method=\"\">compute/operation</a>"],"optional":false,"nullable":false},{"name":"callback.apiResponse","description":"<ul> <li>The full API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]}],"path":"instance-group.json"}