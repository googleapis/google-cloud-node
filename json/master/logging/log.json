{"id":"logging/log","type":"class","name":"Log","description":null,"source":"/lib/logging/log.js#L68","parent":"logging","children":[],"methods":[{"id":"Log","name":"Log","type":"constructor","description":"<p>A log is a named collection of entries, each entry representing a timestamped event. Logs can be produced by Google Cloud Platform services, by third-party services, or by your applications. For example, the log <code>apache-access</code> is produced by the Apache Web Server, but the log <code>compute.googleapis.com/activity_log</code> is produced by Google Compute Engine.</p>","source":"/lib/logging/log.js#L68","resources":[{"title":"Introduction to Logs","link":"https://cloud.google.com/logging/docs/api/#logs"}],"examples":[{"code":"var gcloud = require('gcloud')({\n  keyFilename: '/path/to/keyfile.json',\n  projectId: 'grape-spaceship-123'\n});\n\nvar logging = gcloud.logging();\nvar log = logging.log('syslog');"}],"params":[{"name":"options","description":"<ul> <li><a href=\"#/docs\">Configuration object</a>.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"delete","name":"delete","type":"instance","description":"<p>Delete the log.</p>","source":"/lib/logging/log.js#L87","resources":[{"title":"projects.logs.delete API Documentation","link":"https://cloud.google.com/logging/docs/api/ref_v2beta1/rest/v2beta1/projects.logs/delete"}],"examples":[{"code":"log.delete(function(err, apiResponse) {\n  if (!err) {\n    // The log was deleted.\n  }\n});"}],"params":[{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":true,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>The full API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"alert","name":"alert","type":"instance","description":"<p>Write a log entry with a severity of &quot;ALERT&quot;.</p><p>This is a simple wrapper around <a data-custom-type=\"logging/log\" data-method=\"write\">logging/log#write</a>. All arguments are the same as documented there.</p>","source":"/lib/logging/log.js#L149","resources":[],"examples":[{"code":"var entry = log.entry('compute.googleapis.com', {\n  user: process.env.USER\n});\n\nlog.alert(entry, function(err, apiResponse) {});"}],"params":[],"exceptions":[],"returns":[]},{"id":"createWriteStream","name":"createWriteStream","type":"instance","description":"<p>Write log entries from a streaming object input.</p>","source":"/lib/logging/log.js#L169","resources":[],"examples":[{"code":"var logStream = log.createWriteStream();\n\nlogStream.on('finish', function(err) {\n  // All entries have been written.\n});\n\nlogStream.end({\n  // Log entry.\n});"}],"params":[],"exceptions":[],"returns":[]},{"id":"critical","name":"critical","type":"instance","description":"<p>Write a log entry with a severity of &quot;CRITICAL&quot;.</p><p>This is a simple wrapper around <a data-custom-type=\"logging/log\" data-method=\"write\">logging/log#write</a>. All arguments are the same as documented there.</p>","source":"/lib/logging/log.js#L210","resources":[],"examples":[{"code":"var entry = log.entry('compute.googleapis.com', {\n  user: process.env.USER\n});\n\nlog.critical(entry, function(err, apiResponse) {});"}],"params":[],"exceptions":[],"returns":[]},{"id":"debug","name":"debug","type":"instance","description":"<p>Write a log entry with a severity of &quot;DEBUG&quot;.</p><p>This is a simple wrapper around <a data-custom-type=\"logging/log\" data-method=\"write\">logging/log#write</a>. All arguments are the same as documented there.</p>","source":"/lib/logging/log.js#L228","resources":[],"examples":[{"code":"var entry = log.entry('compute.googleapis.com', {\n  user: process.env.USER\n});\n\nlog.debug(entry, function(err, apiResponse) {});"}],"params":[],"exceptions":[],"returns":[]},{"id":"emergency","name":"emergency","type":"instance","description":"<p>Write a log entry with a severity of &quot;EMERGENCY&quot;.</p><p>This is a simple wrapper around <a data-custom-type=\"logging/log\" data-method=\"write\">logging/log#write</a>. All arguments are the same as documented there.</p>","source":"/lib/logging/log.js#L245","resources":[],"examples":[{"code":"var entry = log.entry('compute.googleapis.com', {\n  user: process.env.USER\n});\n\nlog.emergency(entry, function(err, apiResponse) {});"}],"params":[],"exceptions":[],"returns":[]},{"id":"entry","name":"entry","type":"instance","description":"<p>Create an entry object for this log.</p><p>Note that using this method will not itself make any API requests. You will use the object returned in other API calls, such as <a data-custom-type=\"logging/log\" data-method=\"write\">logging/log#write</a>.</p>","source":"/lib/logging/log.js#L293","resources":[{"title":"LogEntry JSON representation","link":"https://cloud.google.com/logging/docs/api/ref_v2beta1/rest/v2beta1/LogEntry"}],"examples":[{"code":"var resource = {\n  type: 'gce_instance',\n  labels: {\n    zone: 'global',\n    instance_id: 3\n  }\n};\n\nvar entry = log.entry(resource, {\n  delegate: process.env.USER\n});\n\nentry.toJSON();\n// {\n//   logName: 'projects/grape-spaceship-123/logs/syslog',\n//   resource: {\n//     type: 'gce_instance',\n//     labels: {\n//       zone: 'global',\n//       instance_id: 3\n//     }\n//   },\n//   jsonPayload: {\n//     delegate: process.env.USER\n//   }\n// }"}],"params":[{"name":"resource","description":"<ul> <li>See a <a href=\"https://cloud.google.com/logging/docs/api/ref_v2beta1/rest/v2beta1/MonitoredResource\">Monitored Resource</a>.</li> </ul> ","types":["object","string"],"optional":true,"nullable":false},{"name":"data","description":"<ul> <li>The data to use as the value for this log entry.</li> </ul> ","types":["object","string"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"error","name":"error","type":"instance","description":"<p>Write a log entry with a severity of &quot;ERROR&quot;.</p><p>This is a simple wrapper around <a data-custom-type=\"logging/log\" data-method=\"write\">logging/log#write</a>. All arguments are the same as documented there.</p>","source":"/lib/logging/log.js#L312","resources":[],"examples":[{"code":"var entry = log.entry('compute.googleapis.com', {\n  user: process.env.USER\n});\n\nlog.error(entry, function(err, apiResponse) {});"}],"params":[],"exceptions":[],"returns":[]},{"id":"getEntries","name":"getEntries","type":"instance","description":"<p>This method is a wrapper around <a data-custom-type=\"logging\" data-method=\"getEntries\">logging#getEntries</a>, but with a filter specified to only return entries from this log.</p>","source":"/lib/logging/log.js#L384","resources":[{"title":"entries.list API Documentation","link":"https://cloud.google.com/logging/docs/api/ref_v2beta1/rest/v2beta1/entries/list"}],"examples":[{"code":"log.getEntries(function(err, entries) {\n  // `entries` is an array of Cloud Logging entry objects.\n  // See the `data` property to read the data from the entry.\n});"},{"caption":"<p>To control how many API requests are made and page through the results \nmanually, set <code>autoPaginate</code> to <code>false</code>.</p>","code":"function callback(err, entries, nextQuery, apiResponse) {\n  if (nextQuery) {\n    // More results exist.\n    log.getEntries(nextQuery, callback);\n  }\n}\n\nlog.getEntries({\n  autoPaginate: false\n}, callback);"},{"caption":"<p>Get the entries from your project as a readable object stream.</p>","code":"log.getEntries()\n  .on('error', console.error)\n  .on('data', function(entry) {\n    // `entry` is a Cloud Logging entry object.\n    // See the `data` property to read the data from the entry.\n  })\n  .on('end', function() {\n    // All entries retrieved.\n  });"},{"caption":"<p>If you anticipate many results, you can end a stream early to prevent \nunnecessary processing and API requests.</p>","code":"log.getEntries()\n  .on('data', function(entry) {\n    this.end();\n  });"}],"params":[{"name":"options","description":"<ul> <li>Filtering options.</li> </ul> ","types":["object"],"optional":true,"nullable":false},{"name":"options.autoPaginate","description":"<ul> <li>Have pagination handled automatically. Default: true.</li> </ul> ","types":["boolean"],"optional":false,"nullable":false},{"name":"options.filter","description":"<ul> <li>An <a href=\"https://cloud.google.com/logging/docs/view/advanced_filters\">advanced logs filter</a>.  An empty filter matches all log entries.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"options.orderBy","description":"<ul> <li>How the results should be sorted, <code>timestamp</code> (oldest first) and <code>timestamp desc</code> (newest first,  <strong>default</strong>).</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"options.pageSize","description":"<ul> <li>Maximum number of logs to return.</li> </ul> ","types":["number"],"optional":false,"nullable":false},{"name":"options.pageToken","description":"<ul> <li>A previously-returned page token representing part of the larger set of results to view.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.entries","description":"<ul> <li>Entries from this log.</li> </ul> ","types":["<a data-custom-type=\"logging/entry[]\">logging/entry[]</a>"],"optional":false,"nullable":false},{"name":"callback.nextQuery","description":"<ul> <li>If present, query with this object to check for more results.</li> </ul> ","types":["object"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>The full API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"info","name":"info","type":"instance","description":"<p>Write a log entry with a severity of &quot;INFO&quot;.</p><p>This is a simple wrapper around <a data-custom-type=\"logging/log\" data-method=\"write\">logging/log#write</a>. All arguments are the same as documented there.</p>","source":"/lib/logging/log.js#L410","resources":[],"examples":[{"code":"var entry = log.entry('compute.googleapis.com', {\n  user: process.env.USER\n});\n\nlog.info(entry, function(err, apiResponse) {});"}],"params":[],"exceptions":[],"returns":[]},{"id":"notice","name":"notice","type":"instance","description":"<p>Write a log entry with a severity of &quot;NOTICE&quot;.</p><p>This is a simple wrapper around <a data-custom-type=\"logging/log\" data-method=\"write\">logging/log#write</a>. All arguments are the same as documented there.</p>","source":"/lib/logging/log.js#L427","resources":[],"examples":[{"code":"var entry = log.entry('compute.googleapis.com', {\n  user: process.env.USER\n});\n\nlog.notice(entry, function(err, apiResponse) {});"}],"params":[],"exceptions":[],"returns":[]},{"id":"warning","name":"warning","type":"instance","description":"<p>Write a log entry with a severity of &quot;WARNING&quot;.</p><p>This is a simple wrapper around <a data-custom-type=\"logging/log\" data-method=\"write\">logging/log#write</a>. All arguments are the same as documented there.</p>","source":"/lib/logging/log.js#L444","resources":[],"examples":[{"code":"var entry = log.entry('compute.googleapis.com', {\n  user: process.env.USER\n});\n\nlog.warning(entry, function(err, apiResponse) {});"}],"params":[],"exceptions":[],"returns":[]},{"id":"write","name":"write","type":"instance","description":"<p>Write log entries to Cloud Logging.</p><p>While you may write a single entry at a time, batching multiple entries together is preferred to avoid reaching the queries per second limit.</p>","source":"/lib/logging/log.js#L513","resources":[{"title":"entries.write API Documentation","link":"https://cloud.google.com/logging/docs/api/ref_v2beta1/rest/v2beta1/entries/write"}],"examples":[{"code":"var entry = log.entry('compute.googleapis.com', {\n  user: process.env.USER\n});\n\nlog.write(entry, function(err, apiResponse) {\n  if (!err) {\n    // The log entry was written.\n  }\n});"},{"caption":"<p>You may also pass multiple log entries to write.</p>","code":"var secondEntry = log.entry('compute.googleapis.com', {\n  user: process.env.USER\n});\n\nlog.write([\n  entry,\n  secondEntry\n], function(err, apiResponse) {\n  if (!err) {\n    // The log entries were written.\n  }\n});"},{"caption":"<p>To save some steps, you can also pass in plain values as your entries. \nNote, however, that you must provide a configuration object to specify the \nresource.</p>","code":"var entries = [\n  {\n    user: process.env.USER\n  },\n  {\n    home: process.env.HOME\n  }\n];\n\nvar options = {\n  resource: 'compute.googleapis.com'\n};\n\nlog.write(entries, options, function(err, apiResponse) {});"}],"params":[{"name":"entry","description":"<ul> <li>A log entry, or array of entries, to write.</li> </ul> ","types":["<a data-custom-type=\"logging/entry\">logging/entry</a>","<a data-custom-type=\"logging/entry[]\">logging/entry[]</a>"],"optional":false,"nullable":false},{"name":"options","description":"<ul> <li>Configuration object.</li> </ul> ","types":["object"],"optional":true,"nullable":false},{"name":"options.labels","description":"<ul> <li>Labels to set on the log.</li> </ul> ","types":["object[]"],"optional":false,"nullable":false},{"name":"options.resource","description":"<ul> <li>A default monitored resource for entries where one isn&#39;t specified.</li> </ul> ","types":["object"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>The full API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]}]}