{"id":"prediction/model","type":"class","name":"Model","overview":"<p>\n  This class allows you interact with Google Prediction API.\n</p>\n\n<p>\n  First, install <code>@google-cloud/prediction</code> with npm:\n</p>\n\n<div hljs language=\"bash\">$ npm install --save @google-cloud/prediction</div>\n\n<p>\n  If you are running your app on Google Compute Engine, you won't need to worry about supplying connection configuration options to <code>@google-cloud/prediction</code>â€” we figure that out for you.\n</p>\n\n<p>\n  However, if you're running your app elsewhere, you will need to provide project details to authenticate API requests.\n</p>\n\n<h4>Compute Engine</h4>\n<div hljs language=\"javascript\">\nvar prediction = require('@google-cloud/prediction')();\n</div>\n\n<h4>Elsewhere</h4>\n<div hljs language=\"javascript\">\nvar prediction = require('@google-cloud/prediction')({\n  projectId: 'grape-spaceship-123',\n  keyFilename: '/path/to/keyfile.json'\n});\n</div>\n\n<p>\n  The full set of options which can be passed to <code>@google-cloud/prediction</code> are outlined in our <a href=\"#/docs/prediction/0.3.0/guides/authentication\">Authentication guide</a>.\n</p>\n\n","description":"","source":"packages/prediction/src/model.js","parent":"prediction","children":[],"methods":[{"id":"Model","name":"Model","type":"constructor","description":"<p>A Model object represents a trained model. You can train it by using <a data-custom-type=\"prediction/model\" data-method=\"train\">prediction/model#train</a> or ask for predictions with <a data-custom-type=\"prediction/model\" data-method=\"query\">prediction/model#query</a>.</p>","source":"packages/prediction/src/model.js#L50","resources":[{"title":"Developer's Guide: Training Your Model","link":"https://cloud.google.com/prediction/docs/developer-guide#trainingtheapi"},{"title":"Model Resource","link":"https://cloud.google.com/prediction/docs/reference/v1.6/trainedmodels"}],"examples":[{"code":"var model = prediction.model('my-model');"}],"params":[],"exceptions":[],"returns":[]},{"id":"create","name":"create","type":"instance","description":"<p>Create a trained model.</p>","source":"packages/prediction/src/model.js#L72","resources":[],"examples":[{"code":"model.create(function(err, model, apiResponse) {\n  if (!err) {\n    // The model was created successfully.\n  }\n});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"model.create().then(function(data) {\n  var model = data[0];\n  var apiResponse = data[1];\n});"}],"params":[{"name":"options","description":"<ul> <li>See <a data-custom-type=\"prediction\" data-method=\"createModel\">prediction#createModel</a>.</li> </ul> ","types":["object"],"optional":true,"nullable":false}],"exceptions":[],"returns":[]},{"id":"delete","name":"delete","type":"instance","description":"<p>Delete the model.</p>","source":"packages/prediction/src/model.js#L94","resources":[{"title":"Trainedmodels: delete API Documentation","link":"https://cloud.google.com/prediction/docs/reference/v1.6/trainedmodels/delete"}],"examples":[{"code":"model.delete(function(err, apiResponse) {});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"model.delete().then(function(data) {\n  var apiResponse = data[0];\n});"}],"params":[{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":true,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>The full API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"exists","name":"exists","type":"instance","description":"<p>Check if the model exists.</p>","source":"packages/prediction/src/model.js#L114","resources":[],"examples":[{"code":"model.exists(function(err, exists) {});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"model.exists().then(function(data) {\n  var exists = data[0];\n});"}],"params":[{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.exists","description":"<ul> <li>Whether the model exists or not.</li> </ul> ","types":["boolean"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"get","name":"get","type":"instance","description":"<p>Get a model if it exists.</p><p>You may optionally use this to &quot;get or create&quot; an object by providing an object with <code>autoCreate</code> set to <code>true</code>. Any extra configuration that is normally required for the <code>create</code> method must be contained within this object as well.</p>","source":"packages/prediction/src/model.js#L141","resources":[],"examples":[{"code":"model.get(function(err, model, apiResponse) {\n  // `model.metadata` has been populated.\n});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"model.get().then(function(data) {\n  var model = data[0];\n  var apiResponse = data[1];\n});"}],"params":[{"name":"options","description":"<ul> <li>Configuration object.</li> </ul> ","types":["options"],"optional":true,"nullable":false},{"name":"options.autoCreate","description":"<ul> <li>Automatically create the object if it does not exist. Default: <code>false</code></li> </ul> ","types":["boolean"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"getMetadata","name":"getMetadata","type":"instance","description":"<p>Get the metadata for the model.</p>","source":"packages/prediction/src/model.js#L164","resources":[{"title":"Trainedmodels: get API Documentation","link":"https://cloud.google.com/prediction/docs/reference/v1.6/trainedmodels/get"}],"examples":[{"code":"model.getMetadata(function(err, metadata, apiResponse) {});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"model.getMetadata().then(function(data) {\n  var metadata = data[0];\n  var apiResponse = data[1];\n});"}],"params":[{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An API error.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.metadata","description":"<ul> <li>Metadata of the model from the API.</li> </ul> ","types":["object"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>Raw API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"setMetadata","name":"setMetadata","type":"instance","description":"<p>Sets the metadata of the Model object.</p><p>NOTE: What you probably want is <a data-custom-type=\"prediction/model\" data-method=\"train\">prediction/model#train</a>, which wraps this method.</p>","source":"packages/prediction/src/model.js#L197","resources":[{"title":"Trainedmodels: update API Documentation","link":"https://cloud.google.com/prediction/docs/reference/v1.6/trainedmodels/update"}],"examples":[{"code":"var metadata = {\n  output: 'english',\n  csvInstance: [\n    'Hello, this is an English sentence!'\n  ]\n};\n\nmodel.setMetadata(metadata, function(err, apiResponse) {});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"model.setMetadata(metadata).then(function(data) {\n  var apiResponse = data[0];\n});"}],"params":[{"name":"metadata","description":"<ul> <li>Metadata to save on the Model.</li> </ul> ","types":["object"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An error returned while making this request.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>The full API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"analyze","name":"analyze","type":"instance","description":"<p>Get an analysis of the model and the data it was trained on.</p>","source":"packages/prediction/src/model.js#L245","resources":[{"title":"Trainedmodels: analyze API Documentation","link":"https://cloud.google.com/prediction/docs/reference/v1.6/trainedmodels/analyze"}],"examples":[{"code":"model.analyze(function(err, analysis, apiResponse) {\n  if (!err) {\n    // `analysis.data` == {...}\n    // `analysis.model` == {...}\n  }\n});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"model.analyze().then(function(data) {\n  var analysis = data[0];\n  var apiResponse = data[1];\n});"}],"params":[{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An API error.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.analysis","description":"<ul> <li>The results of the analysis. See a <a href=\"https://cloud.google.com/prediction/docs/reference/v1.6/trainedmodels/analyze#response\">Trainedmodels: analyze response object</a>.</li> </ul> ","types":["object"],"optional":false,"nullable":true},{"name":"callback.analysis.data","description":"<ul> <li>Analysis of the data stored in this model.</li> </ul> ","types":["object"],"optional":false,"nullable":false},{"name":"callback.analysis.model","description":"<ul> <li>Analysis of the model.</li> </ul> ","types":["object"],"optional":false,"nullable":false},{"name":"callback.apiResponse","description":"<ul> <li>Raw API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"createWriteStream","name":"createWriteStream","type":"instance","description":"<p>Create a writable stream to train the model with new data.</p><p>This is a wrapper around <a data-custom-type=\"prediction/model\" data-method=\"train\">prediction/model#train</a>.</p>","source":"packages/prediction/src/model.js#L287","resources":[],"examples":[{"code":"var stream = model.createWriteStream('english');\n\nstream\n  .on('error', function(err) {\n    // Uh oh, an error occurred!\n  })\n  .on('finish', function() {\n    // The model will now be processing the new data.\n  });\n\nstream.write('Hello, this is an English sentence!');\nstream.write('...yeah, I assumed that when I was able to read it.');\nstream.end();"}],"params":[{"name":"label","description":"<ul> <li>The output value, either a regression or class label.</li> </ul> ","types":["string","number"],"optional":false,"nullable":false}],"exceptions":[],"returns":[{"types":["WritableStream"],"description":""}]},{"id":"query","name":"query","type":"instance","description":"<p>Query the stored data in your model.</p>","source":"packages/prediction/src/model.js#L377","resources":[{"title":"Trainedmodels:predict API Documentation","link":"https://cloud.google.com/prediction/docs/reference/v1.6/trainedmodels/predict"}],"examples":[{"caption":"<p>Assuming this is a model used to return a language name that matches any \ngiven input, this will ask for the prediction results of an english \nsentence.</p>","code":"model.query('Hello', function(err, results) {\n  if (!err) {\n    // `results.winner` == 'english'\n    // `results.scores` == [\n    //   {\n    //     label: 'english',\n    //     score: 1\n    //   },\n    //   ...other results and their scores are listed here.\n    // ]\n  }\n});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"model.query('Hello').then(function(data) {\n  var results = data[0];\n  var apiResponse = data[1];\n});"}],"params":[{"name":"input","description":"<ul> <li>Input feature(s) to query on the model.</li> </ul> ","types":["string","string[]"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An API error.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.results","description":"<ul> <li>An organized set of results from the prediction.</li> </ul> ","types":["object"],"optional":false,"nullable":true},{"name":"callback.results.winner","description":"<ul> <li>The matching result&#39;s label.</li> </ul> ","types":["string"],"optional":false,"nullable":false},{"name":"callback.results.scores","description":"<ul> <li>Sorted from highest-to-lowest, all of the results that matched the query. This will not be present if<pre><code> querying a regression model. </code></pre></li> </ul> ","types":["object[]"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>Raw API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]},{"id":"train","name":"train","type":"instance","description":"<p>Update the stored data with new input.</p>","source":"packages/prediction/src/model.js#L437","resources":[{"title":"Trainedmodels: update API Documentation","link":"https://cloud.google.com/prediction/docs/reference/v1.6/trainedmodels/update"}],"examples":[{"code":"model.train('english', 'Hello from Stephen!', function(err, apiResponse) {\n  if (!err) {\n    // New data was inserted successfully.\n  }\n});"},{"caption":"<p>If the callback is omitted, we'll return a Promise.</p>","code":"model.train('english', 'Hello from Stephen!').then(function(data) {\n  var apiResponse = data[0];\n});"}],"params":[{"name":"label","description":"<ul> <li>The output value, either a regression or class label.</li> </ul> ","types":["string","number"],"optional":false,"nullable":false},{"name":"input","description":"<ul> <li>The input features for this data entry.</li> </ul> ","types":["string","string[]"],"optional":false,"nullable":false},{"name":"callback","description":"<ul> <li>The callback function.</li> </ul> ","types":["function"],"optional":false,"nullable":false},{"name":"callback.err","description":"<ul> <li>An API error.</li> </ul> ","types":["error"],"optional":false,"nullable":true},{"name":"callback.apiResponse","description":"<ul> <li>Raw API response.</li> </ul> ","types":["object"],"optional":false,"nullable":false}],"exceptions":[],"returns":[]}],"path":"model.json"}